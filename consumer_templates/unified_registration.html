{% extends "consumer_base.html" %}

{% block title %}Join SkyCareLink â€” Registration{% endblock %}

{% block head %}
<style>
:root {
    --primary-blue: #1976d2;
    --secondary-blue: #1565c0;
}

.hero-section {
    background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
    color: white;
    padding: 4rem 0;
    text-align: center;
    margin-top: -1rem;
}

.role-selector {
    background: white;
    border-radius: 15px;
    padding: 2rem;
    margin: -2rem auto 3rem;
    max-width: 800px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    position: relative;
    z-index: 10;
}

.role-card {
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    padding: 1.5rem;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    height: 100%;
    position: relative;
}

.role-card:hover {
    border-color: var(--primary-blue);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.role-card.selected {
    border-color: var(--primary-blue);
    background: #e3f2fd;
    transform: translateY(-2px);
}

.role-card .role-icon {
    width: 60px;
    height: 60px;
    margin: 0 auto 1rem;
    background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
}

.role-card.selected .role-icon {
    background: var(--primary-blue);
}

.role-card .role-title {
    font-weight: 700;
    color: var(--primary-blue);
    margin-bottom: 0.5rem;
}

.role-card .role-description {
    color: #666;
    font-size: 0.9rem;
    line-height: 1.4;
}

.registration-form {
    background: white;
    border-radius: 15px;
    padding: 2rem;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    margin-bottom: 2rem;
}

.form-section {
    display: none;
}

.form-section.active {
    display: block;
}

.field-group {
    margin-bottom: 1rem;
}

.field-group label {
    font-weight: 600;
    color: #333;
    margin-bottom: 0.25rem;
    display: block;
}

.field-group .form-control, .field-group .form-select {
    border-radius: 8px;
    border: 2px solid #e0e0e0;
    padding: 0.75rem;
    transition: border-color 0.3s ease;
}

.field-group .form-control:focus, .field-group .form-select:focus {
    border-color: var(--primary-blue);
    box-shadow: 0 0 0 0.2rem rgba(25, 118, 210, 0.15);
}

.form-check {
    margin: 0.5rem 0;
}

.form-check-input:checked {
    background-color: var(--primary-blue);
    border-color: var(--primary-blue);
}

.submit-section {
    text-align: center;
    padding-top: 2rem;
    border-top: 1px solid #e0e0e0;
    margin-top: 2rem;
}

.btn-submit {
    background: var(--primary-blue);
    color: white;
    border: none;
    border-radius: 25px;
    padding: 1rem 3rem;
    font-weight: 600;
    font-size: 1.1rem;
    transition: all 0.3s ease;
}

.btn-submit:hover {
    background: var(--secondary-blue);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.requirements-note {
    background: #f8f9fa;
    border-left: 4px solid var(--primary-blue);
    padding: 1rem;
    margin: 1rem 0;
    border-radius: 0 8px 8px 0;
}

.benefits-list {
    background: #f0f8ff;
    padding: 1.5rem;
    border-radius: 8px;
    margin: 1rem 0;
}

.benefits-list ul {
    margin: 0;
    padding-left: 1.2rem;
}

.benefits-list li {
    margin: 0.5rem 0;
    color: #444;
}
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <h1 class="display-4 fw-bold mb-3">Join SkyCareLink</h1>
        <p class="lead mb-0">Choose your role and start connecting with the medical transport community</p>
    </div>
</section>

<div class="container">
    <!-- Role Selection -->
    <div class="role-selector">
        <h3 class="text-center mb-4">Select Your Role</h3>
        <div class="row g-3">
            <div class="col-md-4">
                <div class="role-card" data-role="affiliate" onclick="selectRole('affiliate')">
                    <div class="role-icon">
                        <i class="fas fa-helicopter"></i>
                    </div>
                    <h5 class="role-title">Transport Affiliate</h5>
                    <p class="role-description">Flight transport companies and air ambulance operators</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="role-card" data-role="provider" onclick="selectRole('provider')">
                    <div class="role-icon">
                        <i class="fas fa-hospital"></i>
                    </div>
                    <h5 class="role-title">Healthcare Provider</h5>
                    <p class="role-description">Hospitals, clinics, and medical facilities</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="role-card" data-role="individual" onclick="selectRole('individual')">
                    <div class="role-icon">
                        <i class="fas fa-user-friends"></i>
                    </div>
                    <h5 class="role-title">Individual</h5>
                    <p class="role-description">Patients, families, and individual users</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Registration Form -->
    <div class="registration-form" id="registrationForm" style="display: none;">
        <form id="unifiedRegistrationForm" method="POST">
            <input type="hidden" id="selectedRole" name="role" value="">
            
            <!-- Affiliate Registration Form -->
            <div class="form-section" id="affiliateForm">
                <div class="text-center mb-4">
                    <h3 class="display-6 fw-bold text-primary mb-3">
                        <i class="fas fa-plane me-3"></i>
                        Join as Transport Affiliate
                    </h3>
                    <p class="lead text-muted">
                        Partner with SkyCareLink to expand your medical transport business
                    </p>
                </div>

                <!-- Benefits Section -->
                <div class="card border-primary mb-3">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-star me-2"></i>Affiliate Benefits
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>Fair quote distribution</strong> - Equal opportunities for all partners
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>Fast payments</strong> - Weekly ACH transfers
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>1% payback system</strong> - Affiliate fee reimbursed through flights
                                    </li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>Marketing support</strong> - Increased bookings through our network
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>24/7 coordination</strong> - Dedicated support team
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>Technology platform</strong> - Modern booking and tracking tools
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Affiliate Program Information -->
                <div class="alert alert-warning mb-3">
                    <i class="fas fa-star me-2"></i>
                    <strong>Year One (Founding Tier):</strong> $25,000 one-time affiliate fee with 1% payback on each flight until recovered. Priority placement and refundable if platform doesn't deliver minimum flight opportunities.
                </div>
                <div class="alert alert-info mb-3">
                    <i class="fas fa-info-circle me-2"></i>
                    <strong>Year Two (Proof of Concept):</strong> Reduced $10,000 affiliate fee. Founding affiliates retain early placement advantage. No payback needed as platform is proven.
                </div>

                <h5 class="mb-3">Company Registration</h5>

                <div class="row">
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="affiliate_company_name">Company Name *</label>
                            <input type="text" class="form-control" id="affiliate_company_name" name="company_name" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="affiliate_contact_name">Primary Contact Name *</label>
                            <input type="text" class="form-control" id="affiliate_contact_name" name="contact_name" required>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="affiliate_email">Email *</label>
                            <input type="email" class="form-control" id="affiliate_email" name="email" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="affiliate_phone">Phone (Cell) *</label>
                            <input type="tel" class="form-control" id="affiliate_phone" name="phone" required>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="affiliate_phone_24_7">Phone (24/7 number)</label>
                            <input type="tel" class="form-control" id="affiliate_phone_24_7" name="phone_24_7">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="field-group mt-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="affiliate_same_phone" onchange="autoFillPhone('affiliate')">
                                <label class="form-check-label" for="affiliate_same_phone">Same as cell phone</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="field-group">
                    <label for="affiliate_coverage">Coverage Areas *</label>
                    <div class="row">
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="coverage_east" name="coverage_areas" value="east_coast">
                                <label class="form-check-label" for="coverage_east">East Coast</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="coverage_central" name="coverage_areas" value="central">
                                <label class="form-check-label" for="coverage_central">Central US</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="coverage_west" name="coverage_areas" value="west_coast">
                                <label class="form-check-label" for="coverage_west">West Coast</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="coverage_southwest" name="coverage_areas" value="southwest">
                                <label class="form-check-label" for="coverage_southwest">Southwest</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="coverage_southeast" name="coverage_areas" value="southeast">
                                <label class="form-check-label" for="coverage_southeast">Southeast</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="coverage_midwest" name="coverage_areas" value="midwest">
                                <label class="form-check-label" for="coverage_midwest">Midwest</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="coverage_international" name="coverage_areas" value="international">
                                <label class="form-check-label" for="coverage_international">International</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="coverage_alaska_hawaii" name="coverage_areas" value="alaska_hawaii">
                                <label class="form-check-label" for="coverage_alaska_hawaii">Alaska/Hawaii</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="field-group">
                    <label for="affiliate_address">Company Address *</label>
                    <div class="row">
                        <div class="col-md-8">
                            <input type="text" class="form-control mb-2" id="affiliate_street" name="street_address" placeholder="Street Address" required>
                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control mb-2" id="affiliate_city" name="city" placeholder="City" required>
                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control mb-2" id="affiliate_state" name="state" placeholder="State" required>
                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control mb-2" id="affiliate_zip" name="zip_code" placeholder="ZIP Code" required>
                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control mb-2" id="affiliate_country" name="country" placeholder="Country" value="United States" required>
                        </div>
                    </div>
                </div>

                <div class="field-group">
                    <label>Communication Preferences</label>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="affiliate_comm_email" name="communication_preferences" value="email" checked>
                                <label class="form-check-label" for="affiliate_comm_email">Email Updates</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="affiliate_comm_sms" name="communication_preferences" value="sms">
                                <label class="form-check-label" for="affiliate_comm_sms">SMS Notifications</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="affiliate_comm_phone" name="communication_preferences" value="phone">
                                <label class="form-check-label" for="affiliate_comm_phone">Phone Calls</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="affiliate_comm_newsletter" name="communication_preferences" value="newsletter">
                                <label class="form-check-label" for="affiliate_comm_newsletter">Newsletter</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="field-group">
                            <label>Services Offered</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="service_emergency" name="services" value="emergency">
                                <label class="form-check-label" for="service_emergency">Emergency Transport</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="service_scheduled" name="services" value="scheduled">
                                <label class="form-check-label" for="service_scheduled">Scheduled Transport</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="service_international" name="services" value="international">
                                <label class="form-check-label" for="service_international">International Flights</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="field-group">
                            <label>Additional Capabilities</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="offers_concierge" name="offers_concierge" value="1">
                                <label class="form-check-label" for="offers_concierge">Concierge Services</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="offers_24_7" name="offers_24_7" value="1">
                                <label class="form-check-label" for="offers_24_7">24/7 Availability</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="offers_nicu" name="offers_nicu" value="1">
                                <label class="form-check-label" for="offers_nicu">NICU Specialist</label>
                            </div>
                        </div>
                    </div>
                </div>


            </div>

            <!-- Provider Registration Form -->
            <div class="form-section" id="providerForm">
                <div class="text-center mb-4">
                    <h3 class="display-6 fw-bold text-primary mb-3">
                        <i class="fas fa-hospital me-3"></i>
                        Join as Hospital/Clinic
                    </h3>
                    <p class="lead text-muted">
                        Connect your facility to our medical transport network
                    </p>
                </div>

                <!-- Membership Benefits -->
                <div class="card border-success mb-3">
                    <div class="card-header bg-success text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-gift me-2"></i>Membership Benefits
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>Free for 1 year</strong> post-launch
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>+1 year free</strong> when you refer 5 additional providers
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>Free for life</strong> after referral completes flight
                                    </li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>Priority booking</strong> for urgent transports
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>Bulk pricing</strong> for multiple bookings
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>Dedicated support</strong> team
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Provider Program Information -->
                <div class="alert alert-success mb-3">
                    <i class="fas fa-gift me-2"></i>
                    <strong>Year One (Launch Offer):</strong> Join free for the first 12 months from official go-live date. No annual membership fees during initial period.
                </div>
                <div class="alert alert-info mb-3">
                    <i class="fas fa-handshake me-2"></i>
                    <strong>Year Two and Beyond:</strong> $99/year annual fee can be waived through referrals. Refer 5 providers for free next year, or get lifetime free membership when a referral books a flight.
                </div>

                <h5 class="mb-3">Facility Registration</h5>

                <div class="row">
                    <div class="col-md-8">
                        <div class="field-group">
                            <label for="provider_facility_name">Facility Name *</label>
                            <input type="text" class="form-control" id="provider_facility_name" name="facility_name" required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="field-group">
                            <label for="provider_facility_type">Facility Type *</label>
                            <select class="form-select" id="provider_facility_type" name="facility_type" required>
                                <option value="">Select Type</option>
                                <option value="hospital">Hospital</option>
                                <option value="clinic">Clinic</option>
                                <option value="urgent_care">Urgent Care</option>
                                <option value="rehabilitation">Rehabilitation Center</option>
                                <option value="nursing_home">Nursing Home</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="provider_contact_name">Primary Contact Name *</label>
                            <input type="text" class="form-control" id="provider_contact_name" name="contact_name" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="provider_email">Email *</label>
                            <input type="email" class="form-control" id="provider_email" name="email" required>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="provider_phone">Phone (Cell) *</label>
                            <input type="tel" class="form-control" id="provider_phone" name="phone" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="provider_phone_24_7">Phone (24/7 number)</label>
                            <input type="tel" class="form-control" id="provider_phone_24_7" name="phone_24_7">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div class="field-group">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="provider_same_phone" onchange="autoFillPhone('provider')">
                                <label class="form-check-label" for="provider_same_phone">24/7 number same as cell phone</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="field-group">
                    <label for="provider_address">Facility Address *</label>
                    <div class="row">
                        <div class="col-md-8">
                            <input type="text" class="form-control mb-2" id="provider_street" name="street_address" placeholder="Street Address" required>
                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control mb-2" id="provider_city" name="city" placeholder="City" required>
                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control mb-2" id="provider_state" name="state" placeholder="State" required>
                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control mb-2" id="provider_zip" name="zip_code" placeholder="ZIP Code" required>
                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control mb-2" id="provider_country" name="country" placeholder="Country" value="United States" required>
                        </div>
                    </div>
                </div>

                <div class="field-group">
                    <label>Communication Preferences</label>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="provider_comm_email" name="communication_preferences" value="email" checked>
                                <label class="form-check-label" for="provider_comm_email">Email Updates</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="provider_comm_sms" name="communication_preferences" value="sms">
                                <label class="form-check-label" for="provider_comm_sms">SMS Notifications</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="provider_comm_phone" name="communication_preferences" value="phone">
                                <label class="form-check-label" for="provider_comm_phone">Phone Calls</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="provider_comm_newsletter" name="communication_preferences" value="newsletter">
                                <label class="form-check-label" for="provider_comm_newsletter">Newsletter</label>
                            </div>
                        </div>
                    </div>
                </div>


            </div>

            <!-- Individual Registration Form -->
            <div class="form-section" id="individualForm">
                <div class="text-center mb-4">
                    <h3 class="display-6 fw-bold text-primary mb-3">
                        <i class="fas fa-user-friends me-3"></i>
                        Individual Registration
                    </h3>
                    <p class="lead text-muted">
                        Join SkyCareLink to access medical transport services for yourself or loved ones
                    </p>
                </div>

                <!-- Individual Benefits -->
                <div class="card border-info mb-3">
                    <div class="card-header bg-info text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-heart me-2"></i>Individual Benefits
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>Compare quotes</strong> from multiple certified affiliates
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>Transparent pricing</strong> with no hidden fees
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>24/7 customer support</strong> and assistance
                                    </li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>Real-time flight tracking</strong> and updates
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>Insurance coordination</strong> and billing support
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-check text-success me-2"></i>
                                        <strong>Family seating options</strong> and special accommodations
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Registration Note -->
                <div class="alert alert-success mb-3">
                    <i class="fas fa-info-circle me-2"></i>
                    <strong>Quick & Easy:</strong> Simple registration process. Start requesting transport quotes immediately after verification.
                </div>

                <h5 class="mb-3">Personal Information</h5>

                <div class="row">
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="individual_contact_name">Primary Contact Name *</label>
                            <input type="text" class="form-control" id="individual_contact_name" name="contact_name" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="individual_email">Email *</label>
                            <input type="email" class="form-control" id="individual_email" name="email" required>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="individual_phone">Phone (Cell) *</label>
                            <input type="tel" class="form-control" id="individual_phone" name="phone" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="individual_phone_24_7">Phone (24/7 number)</label>
                            <input type="tel" class="form-control" id="individual_phone_24_7" name="phone_24_7">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div class="field-group">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="individual_same_phone" onchange="autoFillPhone('individual')">
                                <label class="form-check-label" for="individual_same_phone">24/7 number same as cell phone</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="field-group">
                    <label for="individual_address">Your Address *</label>
                    <div class="row">
                        <div class="col-md-8">
                            <input type="text" class="form-control mb-2" id="individual_street" name="street_address" placeholder="Street Address" required>
                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control mb-2" id="individual_city" name="city" placeholder="City" required>
                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control mb-2" id="individual_state" name="state" placeholder="State" required>
                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control mb-2" id="individual_zip" name="zip_code" placeholder="ZIP Code" required>
                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control mb-2" id="individual_country" name="country" placeholder="Country" value="United States" required>
                        </div>
                    </div>
                </div>

                <div class="field-group">
                    <label>Communication Preferences</label>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="individual_comm_email" name="communication_preferences" value="email" checked>
                                <label class="form-check-label" for="individual_comm_email">Email Updates</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="individual_comm_sms" name="communication_preferences" value="sms">
                                <label class="form-check-label" for="individual_comm_sms">SMS Notifications</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="individual_comm_phone" name="communication_preferences" value="phone">
                                <label class="form-check-label" for="individual_comm_phone">Phone Calls</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="individual_comm_newsletter" name="communication_preferences" value="newsletter">
                                <label class="form-check-label" for="individual_comm_newsletter">Newsletter</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="individual_relationship">Relationship to Patient</label>
                            <select class="form-select" id="individual_relationship" name="relationship_to_patient">
                                <option value="">Select Relationship</option>
                                <option value="self">Self (I am the patient)</option>
                                <option value="spouse">Spouse</option>
                                <option value="parent">Parent</option>
                                <option value="child">Child</option>
                                <option value="sibling">Sibling</option>
                                <option value="family">Other Family Member</option>
                                <option value="friend">Friend</option>
                                <option value="caregiver">Caregiver</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="field-group">
                            <label for="individual_emergency_contact">Emergency Contact</label>
                            <input type="text" class="form-control" id="individual_emergency_contact" name="emergency_contact" placeholder="Name and phone number">
                        </div>
                    </div>
                </div>

                <div class="field-group">
                    <label>Communication Preferences</label>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="comm_email" name="communication_preferences" value="email" checked>
                                <label class="form-check-label" for="comm_email">Email Updates</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="comm_sms" name="communication_preferences" value="sms">
                                <label class="form-check-label" for="comm_sms">SMS Notifications</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="comm_phone" name="communication_preferences" value="phone">
                                <label class="form-check-label" for="comm_phone">Phone Calls</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="comm_newsletter" name="communication_preferences" value="newsletter">
                                <label class="form-check-label" for="comm_newsletter">Newsletter</label>
                            </div>
                        </div>
                    </div>
                </div>


            </div>

            <!-- Submit Section -->
            <div class="submit-section">
                <button type="submit" class="btn btn-submit" id="submitBtn" disabled>
                    <i class="fas fa-paper-plane me-2"></i>Complete Registration
                </button>
                <div class="mt-3">
                    <small class="text-muted">
                        By registering, you agree to our 
                        <a href="#" class="text-primary">Terms of Service</a> and 
                        <a href="#" class="text-primary">Privacy Policy</a>
                    </small>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
let selectedRole = null;

function selectRole(role) {
    selectedRole = role;
    
    // Update visual selection
    document.querySelectorAll('.role-card').forEach(card => {
        card.classList.remove('selected');
    });
    document.querySelector(`[data-role="${role}"]`).classList.add('selected');
    
    // Show registration form
    const form = document.getElementById('registrationForm');
    form.style.display = 'block';
    
    // Hide all form sections
    document.querySelectorAll('.form-section').forEach(section => {
        section.classList.remove('active');
    });
    
    // Show selected form section
    document.getElementById(`${role}Form`).classList.add('active');
    
    // Update hidden input
    document.getElementById('selectedRole').value = role;
    
    // Enable submit button
    document.getElementById('submitBtn').disabled = false;
    
    // Update form action based on role
    const formElement = document.getElementById('unifiedRegistrationForm');
    if (role === 'affiliate') {
        formElement.action = '{{ url_for("join_affiliate") }}';
    } else if (role === 'provider') {
        formElement.action = '{{ url_for("join_hospital") }}';
    } else {
        formElement.action = '{{ url_for("register_individual") }}';
    }
    
    // Scroll to form
    form.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// Form validation
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('unifiedRegistrationForm');
    
    form.addEventListener('submit', function(e) {
        if (!selectedRole) {
            e.preventDefault();
            alert('Please select a role first.');
            return;
        }
        
        // Additional role-specific validation can be added here
    });
    
});

// Auto-fill phone functionality
function autoFillPhone(roleType) {
    const cellPhone = document.getElementById(`${roleType}_phone`).value;
    const phone247 = document.getElementById(`${roleType}_phone_24_7`);
    const checkbox = document.getElementById(`${roleType}_same_phone`);
    
    if (checkbox.checked) {
        phone247.value = cellPhone;
        phone247.readOnly = true;
    } else {
        phone247.value = '';
        phone247.readOnly = false;
    }
}
</script>
{% endblock %}